TwitterCldr = require('twitter_cldr').load('en')
Units = require('../dist/units.en')

exports.PowerFormatterTest =

  'test can format short version up': (test) ->
    formatter = new Units.PowerFormatter(TwitterCldr)
    test.equal(formatter.formatShort(1), '1W')
    test.equal(formatter.formatShort(1.1), '1.1W')
    test.equal(formatter.formatShort(999), '999W')
    test.equal(formatter.formatShort(1000), '1kW')
    test.equal(formatter.formatShort(1200), '1.2kW')
    test.equal(formatter.formatShort(1000000), '1MW')
    test.equal(formatter.formatShort(1300000), '1.3MW')
    test.equal(formatter.formatShort(1000000000), '1GW')
    test.equal(formatter.formatShort(1400000000), '1.4GW')
    test.equal(formatter.formatShort(1000000000000), '1TW')
    test.equal(formatter.formatShort(1500000000000), '1.5TW')
    test.equal(formatter.formatShort(1000000000000000), '1,000TW')
    test.equal(formatter.formatShort(1600000000000000), '1,600TW')
    test.done()
    
  'test can format long version up': (test) ->
    formatter = new Units.PowerFormatter(TwitterCldr)
    test.equal(formatter.formatLong(1), '1 Watt')
    test.equal(formatter.formatLong(1.1), '1.1 Watts')
    test.equal(formatter.formatLong(999), '999 Watts')
    test.equal(formatter.formatLong(1000), '1 KiloWatt')
    test.equal(formatter.formatLong(1200), '1.2 KiloWatts')
    test.equal(formatter.formatLong(1000000), '1 MegaWatt')
    test.equal(formatter.formatLong(1300000), '1.3 MegaWatts')
    test.equal(formatter.formatLong(1000000000), '1 GigaWatt')
    test.equal(formatter.formatLong(1400000000), '1.4 GigaWatts')
    test.equal(formatter.formatLong(1000000000000), '1 TeraWatt')
    test.equal(formatter.formatLong(1500000000000), '1.5 TeraWatts')
    test.equal(formatter.formatLong(1000000000000000), '1,000 TeraWatts')
    test.equal(formatter.formatLong(1600000000000000), '1,600 TeraWatts')
    test.done()

  'test can format short version down': (test) ->
    formatter = new Units.PowerFormatter(TwitterCldr)
    test.equal(formatter.formatShort(0.999), '999mW')
    test.equal(formatter.formatShort(0.001), '1mW')
    test.equal(formatter.formatShort(0.0011), '1.1mW')
    test.equal(formatter.formatShort(0.000001), '1µW')
    test.equal(formatter.formatShort(0.0000012), '1.2µW')
    test.equal(formatter.formatShort(0.000000001), '1nW')
    test.equal(formatter.formatShort(0.0000000013), '1.3nW')
    test.equal(formatter.formatShort(0.000000000001), '1pW')
    test.equal(formatter.formatShort(0.0000000000014), '1.4pW')
    test.done()
    
  'test can format long version down': (test) ->
    formatter = new Units.PowerFormatter(TwitterCldr)
    test.equal(formatter.formatLong(0.999), '999 MilliWatts')
    test.equal(formatter.formatLong(0.001), '1 MilliWatt')
    test.equal(formatter.formatLong(0.0011), '1.1 MilliWatts')
    test.equal(formatter.formatLong(0.000001), '1 MicroWatt')
    test.equal(formatter.formatLong(0.0000012), '1.2 MicroWatts')
    test.equal(formatter.formatLong(0.000000001), '1 NanoWatt')
    test.equal(formatter.formatLong(0.0000000013), '1.3 NanoWatts')
    test.equal(formatter.formatLong(0.000000000001), '1 PicoWatt')
    test.equal(formatter.formatLong(0.0000000000014), '1.4 PicoWatts')
    test.done()